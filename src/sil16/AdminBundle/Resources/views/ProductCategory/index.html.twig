{% extends "sil16AdminBundle::layout.html.twig" %}

{% block title %} Catalogue {% endblock %}

{% block content %}

  <div id="headerwrap">
    <div class="container">
      <div class="row centered">
        <div class="col-lg-8 col-lg-offset-2">

        <h1> Catalogue </h1>
        </div>
      </div><!-- row -->
    </div><!-- container -->
  </div><!-- headerwrap -->


	<!-- CATALOGUE SECTION -->
	<div id="dg">
		<div class="container">
      <div class="row centered">
        <br>
        <table class="table table-striped">
          <tr>
            <th>Id</th>
            <th>Nom</th>
            <th>Produits</th>
            <th>Editer</th>
          </tr>
            {% for category in product_categories %}
              <tr>
                <td>{{ category.getId() }} </td>
                <td>{{ category.getName() }} </td>
                <td> TODO </td>
                <td>
                  <a type="button" class="btn btn-default" aria-label="Edit" href="{{ path("admin_product_category_edit", {"id": category.id}) }}">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                  </a>
                </td>
              </tr>
              {% endfor %}
        </table>

			</div><!-- row -->
		</div><!-- container -->
	</div><!-- DG -->
  <script>
      window.addEventListener("load", function() {
        var pictures = document.getElementsByClassName('product_picture');
        for (i = 0; i < pictures.length; i++) {
          pictures[i].addEventListener("mouseover", function( event ) {
            var src = this.src;
            var new_src = src.slice(0,src.length - 6) + src.slice(src.length - 4, src.length)
            this.src = new_src;
          });

          pictures[i].addEventListener("mouseout", function( event ) {
            var src = this.src;
            var new_src = src.slice(0,src.length - 4) + "_2" + src.slice(src.length - 4, src.length)
            this.src = new_src;
          });
        }
      }
    );
  </script>
{% endblock %}
